:root {
  --bg: #0b0f14;
  --panel: #121822;
  --panel-2: #0f1520;
  --text: #e6edf3;
  --muted: #9fb3c8;
  --brand: #4f8cff;
  --brand-2: #8aa9ff;
  --success: #2ecc71;
  --danger: #ff6b6b;
  --border: #223046;
}

* { box-sizing: border-box; }

/* 魔法棒光标样式 - 可点击元素的金色魔法棒（带描边） */
button, a, input[type="submit"], .clickable, 
[role="button"], [onclick],
.recipe-card, .note-item, .ranking-item, .shop-item, 
.top-dish, .health-category-btn, .tab-button,
.modal-close, .search-button, .bubble, .step-image {
  cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"><defs><filter id="shadow2"><feDropShadow dx="0" dy="0" stdDeviation="1.5" flood-color="%23000000" flood-opacity="0.8"/></filter></defs><g filter="url(%23shadow2)"><path d="M15 4V2" stroke="%23ffd700" stroke-width="3" stroke-linecap="round"/><path d="M15 16v-2" stroke="%23ffd700" stroke-width="3" stroke-linecap="round"/><path d="M8 9h2" stroke="%23ffd700" stroke-width="3" stroke-linecap="round"/><path d="M20 9h2" stroke="%23ffd700" stroke-width="3" stroke-linecap="round"/><path d="M17.8 11.8 19 13" stroke="%23ffd700" stroke-width="3" stroke-linecap="round"/><path d="M17.8 6.2 19 5" stroke="%23ffd700" stroke-width="3" stroke-linecap="round"/><path d="M12.2 6.2 11 5" stroke="%23ffd700" stroke-width="3" stroke-linecap="round"/><path d="m3 21 9-9" stroke="%23ffd700" stroke-width="3.5" stroke-linecap="round"/><circle cx="15" cy="9" r="3" fill="%23ffd700" stroke="%23ffffff" stroke-width="0.8"/><path d="m13 7 2 2" stroke="%23fff" stroke-width="1.5"/></g></svg>') 4 4, pointer !important;
}

input[type="text"], input[type="search"], textarea {
  cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"><defs><filter id="shadow3"><feDropShadow dx="0" dy="0" stdDeviation="1" flood-color="%23000000" flood-opacity="0.6"/></filter></defs><g filter="url(%23shadow3)"><rect x="10" y="2" width="4" height="20" rx="2" fill="%23ffffff"/></g></svg>') 10 10, text;
}
html, body { height: 100%; }
body {
  margin: 0;
  font-family: 'Inter', system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, 'Noto Sans', 'Apple Color Emoji', 'Segoe UI Emoji';
  background: radial-gradient(1200px 800px at 80% -10%, rgba(79,140,255,0.15), transparent 70%),
              radial-gradient(1000px 700px at -10% 10%, rgba(138,169,255,0.12), transparent 60%),
              var(--bg);
  color: var(--text);
  /* 魔法棒光标 - 带描边的白色魔法棒，在任何背景上都清晰可见 */
  cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"><defs><filter id="shadow"><feDropShadow dx="0" dy="0" stdDeviation="1.5" flood-color="%23000000" flood-opacity="0.8"/></filter></defs><g filter="url(%23shadow)"><path d="M15 4V2" stroke="%23ffffff" stroke-width="2.5" stroke-linecap="round"/><path d="M15 16v-2" stroke="%23ffffff" stroke-width="2.5" stroke-linecap="round"/><path d="M8 9h2" stroke="%23ffffff" stroke-width="2.5" stroke-linecap="round"/><path d="M20 9h2" stroke="%23ffffff" stroke-width="2.5" stroke-linecap="round"/><path d="M17.8 11.8 19 13" stroke="%23ffffff" stroke-width="2.5" stroke-linecap="round"/><path d="M17.8 6.2 19 5" stroke="%23ffffff" stroke-width="2.5" stroke-linecap="round"/><path d="M12.2 6.2 11 5" stroke="%23ffffff" stroke-width="2.5" stroke-linecap="round"/><path d="m3 21 9-9" stroke="%23ffffff" stroke-width="3" stroke-linecap="round"/><circle cx="15" cy="9" r="2.5" fill="%23ffd700" stroke="%23ffffff" stroke-width="0.5"/></g></svg>') 4 4, auto;
}

#bg-layer { position: fixed; inset: 0; z-index: -1; }

.container {
  width: min(1100px, 92%);
  margin-inline: auto;
}

.app-header {
  background: linear-gradient(180deg, rgba(138,169,255,0.10), rgba(79,140,255,0.05) 40%, transparent);
  border-bottom: 1px solid var(--border);
}
.header-inner {
  padding: 28px 0 18px;
  display: flex;
  align-items: center;
  justify-content: space-between;
}
h1 { margin: 0; font-size: 28px; letter-spacing: 0.3px; }
.app-header p { margin: 8px 0 0; color: var(--muted); }
.header-actions {
  display: flex;
  align-items: center;
  gap: 12px;
}
/* 新的信息面板布局 */
.datetime-weather {
  display: flex;
  flex-direction: column;
  gap: 8px;
  padding: 12px 16px;
  background: var(--panel);
  border-radius: 12px;
  border: 1px solid var(--border);
  min-width: 280px;
  max-width: 450px;
  transition: all 0.2s ease;
}

.datetime-weather:hover {
  background: var(--panel-2);
  border-color: var(--brand);
  box-shadow: 0 2px 12px rgba(79, 140, 255, 0.15);
}

/* 信息行 */
.info-row {
  display: flex;
  align-items: center;
  gap: 16px;
  flex-wrap: wrap;
}

.location-row {
  border-top: 1px solid var(--border);
  padding-top: 8px;
  margin-top: 2px;
}

/* 信息项 */
.info-item {
  display: flex;
  align-items: center;
  gap: 6px;
  flex: 1;
  min-width: 0; /* 允许flex子元素收缩 */
}

.info-icon {
  flex-shrink: 0;
  opacity: 0.7;
  transition: opacity 0.2s;
}

.info-item:hover .info-icon {
  opacity: 1;
}

.info-text {
  font-size: 13px;
  color: var(--text);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* 日期时间 */
.datetime-item {
  flex: 0 0 auto;
}

.datetime-item .info-text {
  font-weight: 600;
  font-family: 'Courier New', monospace;
  color: var(--text);
}

/* 天气 */
.weather-item {
  flex: 0 0 auto;
}

.weather-item .info-text {
  color: var(--muted);
}

/* 位置信息（独占一行，可完整显示） */
.location-item {
  flex: 1;
  cursor: pointer;
  padding: 4px 8px;
  margin: -4px -8px;
  border-radius: 6px;
  transition: all 0.2s ease;
}

.location-item:hover {
  background: rgba(79, 140, 255, 0.08);
}

.location-text {
  color: var(--brand-2);
  font-weight: 500;
  white-space: normal !important; /* 允许换行 */
  word-break: break-word;
  line-height: 1.5;
}

/* 旧样式已废弃，现在使用新的 .info-text 和 .info-item 结构 */

.btn-favorite, .btn-settings {
  background: var(--panel);
  border: 1px solid var(--border);
  border-radius: 12px;
  padding: 10px 16px;
  cursor: pointer;
  color: var(--text);
  transition: all 0.2s ease;
  display: flex;
  align-items: center;
  gap: 8px;
}
.btn-favorite:hover, .btn-settings:hover {
  background: var(--panel-2);
  border-color: var(--brand);
  color: var(--brand-2);
}
.btn-favorite svg {
  fill: var(--danger);
  stroke: var(--danger);
}
.btn-settings {
  padding: 10px;
}
.btn-settings svg {
  stroke: var(--brand-2);
}
.favorite-count {
  background: var(--brand);
  color: white;
  font-size: 12px;
  font-weight: 600;
  padding: 2px 8px;
  border-radius: 12px;
  min-width: 20px;
  text-align: center;
}

.loaders, .controls { margin: 20px 0; }
.loader-card {
  background: var(--panel);
  border: 1px solid var(--border);
  border-radius: 12px;
  padding: 16px;
}
.loader-card h2 { margin: 0 0 8px; font-size: 18px; }
.loader-actions { display: grid; gap: 12px; align-items: center; }
.file-inputs { display: flex; gap: 12px; flex-wrap: wrap; }
.file-label { display: inline-grid; gap: 6px; font-size: 12px; color: var(--muted); }
.file-label input { background: var(--panel-2); border: 1px dashed var(--border); padding: 10px; border-radius: 8px; color: var(--text); }
.dropzone { padding: 14px; border: 1px dashed var(--border); border-radius: 10px; color: var(--muted); text-align: center; background: var(--panel-2); }
.dropzone.dragover { border-color: var(--brand); color: var(--brand-2); }
.status { color: var(--muted); font-size: 13px; }

/* 美食笔记 */
.notes-section {
  margin: 30px 0;
}
.notes-section .section-title {
  margin: 0 0 16px;
  font-size: 18px;
  color: #ff69b4;
  font-weight: 700;
  text-shadow: 0 2px 4px rgba(255,105,180,0.2);
}
.notes-card {
  background: linear-gradient(135deg, rgba(255,105,180,0.08) 0%, rgba(255,182,193,0.12) 100%);
  border: 1px solid rgba(255,105,180,0.3);
  border-radius: 16px;
  padding: 24px;
  box-shadow: 0 4px 12px rgba(255,105,180,0.1);
}
.notes-search-wrapper {
  display: flex;
  gap: 12px;
  margin-bottom: 20px;
}
.notes-search-input {
  flex: 1;
  background: rgba(0,0,0,0.2);
  border: 1px solid rgba(255,105,180,0.3);
  color: var(--text);
  padding: 12px 16px;
  border-radius: 12px;
  font-size: 14px;
  transition: all 0.3s ease;
}
.notes-search-input:focus {
  outline: none;
  border-color: #ff69b4;
  box-shadow: 0 0 0 3px rgba(255,105,180,0.1);
  background: rgba(0,0,0,0.25);
}
.notes-search-input::placeholder {
  color: rgba(255,255,255,0.4);
}
.btn-notes-search {
  background: linear-gradient(135deg, #ff69b4, #ff1493);
  border: none;
  border-radius: 12px;
  padding: 12px 24px;
  cursor: pointer;
  color: white;
  font-weight: 600;
  transition: all 0.2s ease;
  box-shadow: 0 2px 8px rgba(255,20,147,0.3);
  display: flex;
  align-items: center;
  gap: 8px;
  white-space: nowrap;
}
.btn-notes-search:hover {
  background: linear-gradient(135deg, #ff1493, #c71585);
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(255,20,147,0.4);
}
.notes-results {
  min-height: 400px;
}
.notes-placeholder {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 60px 20px;
  color: var(--muted);
  text-align: center;
}
.notes-placeholder svg {
  opacity: 0.3;
  margin-bottom: 20px;
}
.notes-placeholder p {
  margin: 8px 0;
  font-size: 14px;
}
.notes-hint {
  color: rgba(255,105,180,0.6) !important;
  font-size: 13px !important;
}
.notes-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
  gap: 20px;
}
.note-item {
  background: rgba(0,0,0,0.2);
  border: 1px solid rgba(255,105,180,0.2);
  border-radius: 12px;
  overflow: hidden;
  transition: all 0.3s ease;
  cursor: pointer;
}
.note-item:hover {
  transform: translateY(-4px);
  box-shadow: 0 8px 20px rgba(255,105,180,0.2);
  border-color: #ff69b4;
}
.note-item-image {
  width: 100%;
  height: 180px;
  object-fit: cover;
  background: rgba(0,0,0,0.3);
}
.note-item-content {
  padding: 16px;
}
.note-item-title {
  font-weight: 700;
  font-size: 15px;
  margin-bottom: 8px;
  overflow: hidden;
  text-overflow: ellipsis;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  line-height: 1.4;
}
.note-item-desc {
  color: var(--muted);
  font-size: 13px;
  overflow: hidden;
  text-overflow: ellipsis;
  display: -webkit-box;
  -webkit-line-clamp: 3;
  -webkit-box-orient: vertical;
  line-height: 1.6;
  margin-bottom: 12px;
}
.note-item-meta {
  display: flex;
  align-items: center;
  justify-content: space-between;
  font-size: 12px;
  color: rgba(255,105,180,0.7);
}
.note-item-source {
  display: flex;
  align-items: center;
  gap: 4px;
}
.notes-pagination {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 16px;
  margin-top: 24px;
  padding-top: 20px;
  border-top: 1px solid rgba(255,105,180,0.2);
}
.notes-loading {
  text-align: center;
  padding: 40px;
  color: var(--muted);
}
.notes-error {
  text-align: center;
  padding: 40px;
  color: var(--danger);
  background: rgba(220,53,69,0.1);
  border-radius: 12px;
  border: 1px solid rgba(220,53,69,0.3);
}

.stats { margin-top: 6px; color: var(--muted); font-size: 13px; }

.section-title { margin: 0 0 12px; font-size: 18px; color: var(--muted); font-weight: 700; }
.section-header { display: flex; align-items: center; gap: 12px; margin-bottom: 12px; }
.btn-icon { background: var(--panel-2); border: 1px solid var(--border); border-radius: 6px; padding: 4px; cursor: pointer; color: var(--muted); transition: all 0.2s ease; display: flex; align-items: center; justify-content: center; }
.btn-icon:hover { background: var(--panel); color: var(--brand-2); border-color: var(--brand); }
.btn-icon svg { width: 14px; height: 14px; }

/* Unified search section */
.unified-search {
  margin: 20px 0;
}
.unified-search .section-title {
  margin: 0 0 16px;
  font-size: 18px;
  color: #ffa500;
  font-weight: 700;
  text-shadow: 0 2px 4px rgba(255,140,0,0.2);
}
.rankings .section-title {
  color: var(--brand-2);
  text-shadow: 0 2px 4px rgba(79,140,255,0.2);
}
.search-container {
  background: linear-gradient(135deg, rgba(255,215,0,0.08) 0%, rgba(255,140,0,0.12) 100%);
  border: 1px solid rgba(255,215,0,0.3);
  border-radius: 16px;
  padding: 24px;
  box-shadow: 0 4px 12px rgba(255,140,0,0.2);
  display: flex;
  flex-direction: column;
  gap: 20px;
}

/* Tab 切换样式 */
.search-tabs {
  display: flex;
  gap: 12px;
  border-bottom: 2px solid rgba(255,215,0,0.2);
  padding-bottom: 12px;
}

.search-tab {
  flex: 1;
  padding: 12px 24px;
  background: transparent;
  border: 1px solid rgba(255,215,0,0.3);
  border-radius: 8px;
  color: rgba(255,215,0,0.8);
  font-size: 15px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s ease;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
}

.search-tab:hover {
  background: rgba(255,215,0,0.1);
  border-color: rgba(255,215,0,0.5);
  transform: translateY(-2px);
}

.search-tab.active {
  background: linear-gradient(135deg, rgba(255,215,0,0.2), rgba(255,140,0,0.25));
  border-color: #ffa500;
  color: #ffa500;
  box-shadow: 0 4px 12px rgba(255,165,0,0.3);
}

/* Tab 内容区 */
.search-tabs-content {
  position: relative;
  min-height: 300px;
}

.search-tab-panel {
  display: none;
  animation: fadeIn 0.3s ease-in-out;
}

.search-tab-panel.active {
  display: block;
}

@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* 搜索结果容器 */
.search-results-container {
  margin-top: 24px;
  padding-top: 24px;
  border-top: 2px solid rgba(255,215,0,0.2);
}
.search-section {
  display: flex;
  flex-direction: column;
  gap: 12px;
  background: rgba(0,0,0,0.15);
  padding: 16px;
  border-radius: 12px;
  border: 1px solid rgba(255,215,0,0.2);
}
.search-subtitle {
  margin: 0;
  font-size: 15px;
  color: #ffa500;
  font-weight: 700;
  padding-bottom: 10px;
  border-bottom: 2px solid rgba(255,215,0,0.4);
  text-align: center;
}
@media (max-width: 768px) {
  /* 响应式信息面板 */
  .datetime-weather {
    min-width: 240px;
    max-width: 100%;
    padding: 10px 12px;
  }
  
  .info-row {
    gap: 12px;
  }
  
  .info-text {
    font-size: 12px;
  }
  
  .location-text {
    font-size: 12px;
  }
  
  .search-tabs {
    flex-direction: column;
    gap: 8px;
  }
  
  .search-tab {
    padding: 10px 20px;
    font-size: 14px;
  }
}
.ai-reco-content { display: flex; flex-direction: column; gap: 10px; flex: 1; }
.bubbles-content { display: flex; flex-direction: column; gap: 10px; flex: 1; }
.ai-input { width: 100%; background: rgba(255,140,0,0.05); border: 1px solid rgba(255,215,0,0.3); border-radius: 10px; padding: 10px 12px; color: var(--text); resize: vertical; }
.ai-input:focus { outline: none; border-color: rgba(255,165,0,0.6); box-shadow: 0 0 0 2px rgba(255,215,0,0.1); }
.ai-input.small { max-width: 360px; }
.ai-actions { display: flex; align-items: center; gap: 10px; }
.ai-tip { color: var(--muted); font-size: 13px; }
.ai-config { display: flex; gap: 8px; flex-wrap: wrap; align-items: center; }
.ai-stream-output { background: rgba(255,140,0,0.05); border: 1px solid rgba(255,215,0,0.3); border-radius: 10px; padding: 16px 20px; color: var(--text); font-size: 14px; line-height: 1.8; min-height: 300px; max-height: 400px; overflow-y: auto; display: block; }
.ai-stream-output.visible .ai-placeholder { display: none; }
.ai-placeholder { 
  color: var(--muted); 
  min-height: 260px;
  display: flex;
  flex-direction: column;
  justify-content: center;
}
.ai-placeholder h3 { color: var(--brand-2); font-size: 18px; margin: 0 0 12px; }
.ai-placeholder p { margin: 8px 0; }
.ai-placeholder ul { margin: 12px 0; padding-left: 20px; list-style: none; }
.ai-placeholder li { margin: 6px 0; padding-left: 4px; }
.ai-placeholder strong { color: var(--text); font-weight: 600; }
.ai-hint { margin-top: 16px !important; padding-top: 16px; border-top: 1px solid var(--border); color: var(--brand-2); font-weight: 500; }
.ai-stream-output::-webkit-scrollbar { width: 6px; }
.ai-stream-output::-webkit-scrollbar-thumb { background: #ffffff22; border-radius: 6px; }

/* Markdown styles in AI output */
.ai-stream-output h1, .ai-stream-output h2, .ai-stream-output h3 { color: var(--brand-2); margin-top: 16px; margin-bottom: 8px; }
.ai-stream-output h1 { font-size: 20px; }
.ai-stream-output h2 { font-size: 18px; }
.ai-stream-output h3 { font-size: 16px; }
.ai-stream-output p { margin: 8px 0; }
.ai-stream-output ul, .ai-stream-output ol { margin: 8px 0; padding-left: 24px; }
.ai-stream-output li { margin: 4px 0; }
.ai-stream-output strong { color: var(--brand-2); font-weight: 600; }
.ai-stream-output em { color: var(--muted); font-style: italic; }
.ai-stream-output code { background: var(--panel); padding: 2px 6px; border-radius: 4px; font-family: 'Courier New', monospace; color: var(--brand-2); }
.ai-stream-output blockquote { border-left: 3px solid var(--brand); padding-left: 12px; margin: 12px 0; color: var(--muted); }
.ai-suggestions { display: grid; gap: 8px; grid-template-columns: repeat(3, minmax(0, 1fr)); }
.ai-suggestions .chip { text-align: center; }
.search-input-wrapper {
  display: flex;
  gap: 8px;
  margin-bottom: 12px;
}
.dish-search-input {
  flex: 1;
  background: rgba(255,140,0,0.05);
  border: 1px solid rgba(255,215,0,0.3);
  border-radius: 10px;
  padding: 8px 12px;
  color: var(--text);
  font-size: 14px;
}
.dish-search-input:focus {
  outline: none;
  border-color: rgba(255,165,0,0.6);
  box-shadow: 0 0 0 2px rgba(255,215,0,0.1);
}
.btn-dish-search {
  background: linear-gradient(135deg, #cc8400, #b87700);
  border: none;
  border-radius: 10px;
  padding: 8px 16px;
  cursor: pointer;
  color: white;
  transition: all 0.2s ease;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 2px 8px rgba(204,132,0,0.3);
}
.btn-dish-search:hover {
  background: linear-gradient(135deg, #e69500, #cc8400);
  transform: scale(1.05);
  box-shadow: 0 4px 12px rgba(230,149,0,0.5);
}

.bubble-path { display: flex; flex-wrap: wrap; gap: 8px; margin-bottom: 8px; min-height: 32px; align-items: center; }
.bubble-hint-text {
  color: #ffa500;
  font-size: 13px;
  flex-shrink: 0;
  margin-right: auto;
  transition: opacity 0.3s ease;
}
.bubble-hint-text.hidden {
  display: none;
}
.bubble-path .crumb { background: var(--panel-2); border: 1px solid var(--border); padding: 4px 8px; border-radius: 999px; font-size: 12px; }
.btn-clear-bubble {
  background: linear-gradient(135deg, #cc8400, #b87700);
  border: none;
  border-radius: 10px;
  padding: 6px 12px;
  cursor: pointer;
  color: white;
  transition: all 0.2s ease;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 2px 8px rgba(204,132,0,0.4);
}
.btn-clear-bubble:hover {
  background: linear-gradient(135deg, #e69500, #cc8400);
  transform: scale(1.05);
  box-shadow: 0 4px 12px rgba(230,149,0,0.6);
}
.btn-clear-bubble svg {
  stroke: currentColor;
}
.bubble-canvas { position: relative; flex: 1; min-height: 360px; background:
  radial-gradient(800px 300px at 10% 0%, rgba(255,215,0,0.10), transparent 60%),
  radial-gradient(700px 280px at 90% 10%, rgba(255,140,0,0.08), transparent 60%),
  rgba(255,140,0,0.05);
  border: 1px solid rgba(255,215,0,0.3); border-radius: 12px; overflow: hidden; }
.bubble { 
  position: absolute; 
  display: flex; 
  align-items: center; 
  justify-content: center; 
  padding: 6px 10px; 
  border-radius: 999px; 
  cursor: pointer; 
  user-select: none; 
  white-space: nowrap; 
  border: 1px solid #ffffff22; 
  box-shadow: 0 6px 18px rgba(0,0,0,0.25);
  animation: float var(--float-duration, 6s) ease-in-out infinite;
  animation-delay: var(--float-delay, 0s);
  transition: transform 0.3s ease, box-shadow 0.3s ease, border-color 0.3s ease, z-index 0.3s ease;
}
.bubble:hover { 
  transform: scale(1.15) translateY(-4px); 
  box-shadow: 0 12px 28px rgba(255,140,0,0.5), 0 0 0 2px rgba(255,215,0,0.7);
  border-color: rgba(255,165,0,0.9);
  z-index: 10;
}
.bubble .text { font-weight: 600; }
.bubble .count { margin-left: 6px; color: var(--muted); font-size: 11px; }

@keyframes float {
  0%, 100% { transform: translateY(0) rotate(0deg); }
  25% { transform: translateY(-8px) rotate(1deg); }
  50% { transform: translateY(-4px) rotate(-1deg); }
  75% { transform: translateY(-10px) rotate(0.5deg); }
}

.btn {
  background: var(--panel);
  color: var(--text);
  border: 1px solid var(--border);
  padding: 10px 14px;
  border-radius: 10px;
  cursor: pointer;
}
.btn.primary { background: linear-gradient(135deg, #cc8400, #b87700); border: none; box-shadow: 0 2px 8px rgba(204,132,0,0.4); color: white; }
.btn.primary:hover { background: linear-gradient(135deg, #e69500, #cc8400); box-shadow: 0 4px 12px rgba(230,149,0,0.6); }
.btn.secondary { background: var(--panel-2); }
.btn.ghost { background: transparent; }
.btn:disabled { opacity: 0.6; cursor: not-allowed; }

.cards {
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: 16px;
  margin: 14px 0 40px;
}
.cards { margin: 16px 0; }
.pagination { display: flex; align-items: center; justify-content: center; gap: 10px; margin-top: 16px; }
.page-info { color: var(--muted); }

.rankings { margin: 10px 0 6px; }
.ranking-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 16px; }
.ranking-card { 
  background: linear-gradient(135deg, rgba(79,140,255,0.08) 0%, rgba(138,169,255,0.05) 100%);
  border: 1px solid rgba(79,140,255,0.25); 
  border-radius: 12px; 
  padding: 16px; 
  display: flex; 
  flex-direction: column; 
  height: 380px;
  box-shadow: 0 4px 12px rgba(79,140,255,0.15);
}
.ranking-card h3 { 
  margin: 0 0 12px; 
  font-size: 16px; 
  color: var(--brand-2);
  font-weight: 700;
  text-shadow: 0 2px 4px rgba(79,140,255,0.2);
}
.trophy-icon, .search-icon {
  font-size: 20px;
  margin-right: 8px;
}
.ranking-list { display: grid; gap: 8px; flex: 1; overflow-y: auto; overflow-x: hidden; align-content: start; position: relative; scroll-behavior: smooth; }
.ranking-list::-webkit-scrollbar { width: 6px; }
.ranking-list::-webkit-scrollbar-track { background: transparent; }
.ranking-list::-webkit-scrollbar-thumb { background: #ffffff22; border-radius: 6px; }
.ranking-list::-webkit-scrollbar-thumb:hover { background: #ffffff33; }
.ranking-list-inner { display: grid; gap: 8px; }
.ranking-actions { margin-top: 10px; display: flex; justify-content: center; }
.ranking-item { display: flex; align-items: center; gap: 10px; padding: 8px 10px; background: rgba(255,255,255,0.03); border-radius: 8px; border: 1px solid rgba(79,140,255,0.2); }
.ranking-item .rank { 
  font-weight: 800; 
  background: linear-gradient(135deg, var(--brand), var(--brand-2));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  min-width: 24px; 
}
.ranking-item .name { flex: 1; font-weight: 600; transition: all 0.3s ease; }
.ranking-item .count { 
  color: var(--muted); 
  font-size: 13px; 
  width: 80px; 
  text-align: right;
  flex-shrink: 0;
  margin-left: auto;
}
.ranking-item .dish-img { width: 60px; height: 60px; border-radius: 6px; object-fit: cover; transition: transform 150ms ease, box-shadow 150ms ease; will-change: transform; }
.ranking-item.highlighted .dish-img { transform: scale(2); box-shadow: 0 8px 24px rgba(79,140,255,0.5), 0 0 0 3px rgba(79,140,255,0.4); z-index: 2; }
.ranking-item.highlighted .name { 
  transform: scale(1.3) translateX(40px); 
  font-weight: 700; 
  z-index: 3; 
  position: relative; 
  text-shadow: 0 2px 8px rgba(0,0,0,0.8), 0 0 20px rgba(79,140,255,0.6);
  background: rgba(11, 15, 20, 0.9);
  padding: 2px 6px;
  border-radius: 4px;
  max-width: 150px;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}
.ranking-item { transition: all 0.4s ease; opacity: 1; }
.ranking-item.fade-out { opacity: 0.4; transform: scale(0.97); }
.ranking-item.highlighted { opacity: 1; transform: scale(1); box-shadow: 0 0 0 2px var(--brand), 0 4px 12px rgba(79,140,255,0.4); }

.shop-item { padding: 12px; background: rgba(255,255,255,0.03); border-radius: 8px; border: 1px solid rgba(79,140,255,0.2); margin-bottom: 8px; transition: all 0.4s ease; opacity: 1; }
.shop-item.fade-out { opacity: 0.4; transform: scale(0.97); }
.shop-item.highlighted { opacity: 1; transform: scale(1); box-shadow: 0 0 0 2px var(--brand), 0 4px 12px rgba(79,140,255,0.4); }
.shop-item .shop-header { display: flex; align-items: center; gap: 10px; margin-bottom: 8px; }
.shop-item .shop-rank { 
  font-weight: 800; 
  background: linear-gradient(135deg, var(--brand), var(--brand-2));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  min-width: 24px; 
}
.shop-item .shop-name { flex: 1; font-weight: 600; }
.shop-item .shop-count { color: var(--muted); font-size: 13px; }
.shop-item .top-dishes { display: grid; grid-template-columns: repeat(3, 1fr); gap: 6px; }
.ranking-item { display: flex; align-items: center; gap: 10px; padding: 8px 10px; background: var(--panel-2); border-radius: 8px; border: 1px solid var(--border); cursor: pointer; transition: background-color 120ms ease; }
.ranking-item:hover { background: var(--panel); }
.shop-item .top-dish { text-align: center; cursor: pointer; transition: transform 120ms ease; }
.shop-item .top-dish:hover { transform: scale(1.05); }
.shop-item .top-dish img { width: 100%; height: 80px; border-radius: 4px; object-fit: cover; }
.shop-item .top-dish .dish-name { font-size: 11px; margin-top: 4px; color: var(--muted); }

@media (max-width: 640px) {
  .ranking-grid { grid-template-columns: 1fr; }
}

.card {
  background: var(--panel);
  border: 1px solid var(--border);
  border-radius: 14px;
  overflow: hidden;
  display: grid;
  grid-template-rows: 160px auto;
}
.card.clickable { cursor: pointer; }
.card.clickable:hover { border-color: var(--brand); box-shadow: 0 0 0 1px var(--brand) inset; }
.card .thumb { width: 100%; height: 160px; object-fit: cover; background: #0c111a; }
.card .content { padding: 12px; display: flex; flex-direction: column; gap: 6px; }
.card .title { font-weight: 700; font-size: 15px; }
.card .shop-name { 
  color: var(--muted); 
  font-size: 13px; 
  display: flex; 
  align-items: center; 
  gap: 4px; 
  overflow: hidden;
}
.card .shop-name svg {
  flex-shrink: 0;
}
.card .shop-name span {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  flex: 1;
  min-width: 0;
}
.meta { display: flex; gap: 8px; flex-wrap: nowrap; color: var(--muted); font-size: 13px; }
.badge { background: var(--panel-2); border: 1px solid var(--border); padding: 2px 8px; border-radius: 999px; white-space: nowrap; }

.address-row {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 8px;
}
.address-text {
  color: var(--muted);
  font-size: 12px;
  flex-shrink: 0;
  display: flex;
  align-items: center;
  gap: 3px;
}
.address-text svg {
  flex-shrink: 0;
}
.chip { border: 1px solid var(--border); background: var(--panel-2); color: var(--text); padding: 4px 8px; border-radius: 999px; cursor: pointer; display: flex; align-items: center; gap: 4px; transition: all 0.2s ease; flex-shrink: 0; position: relative; }
.chip[data-tooltip]::after {
  content: attr(data-tooltip);
  position: absolute;
  bottom: 100%;
  left: 50%;
  transform: translateX(-50%) translateY(-4px);
  background: rgba(0, 0, 0, 0.9);
  color: white;
  padding: 4px 8px;
  border-radius: 6px;
  font-size: 12px;
  white-space: nowrap;
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.15s ease;
  z-index: 1000;
}
.chip[data-tooltip]:hover::after {
  opacity: 1;
  transition-delay: 0.1s;
}
.chip.like { border-color: var(--danger); color: var(--danger); }
.chip.like:hover { background: var(--danger); color: white; }
.chip.like svg { fill: none; }
.chip.like.liked svg, .chip.like:hover svg { fill: currentColor; }
.chip.like.liked { background: var(--danger); color: white; border-color: var(--danger); }

.spin-overlay {
  position: fixed; inset: 0; display: none; align-items: center; justify-content: center;
  background: rgba(0,0,0,0.45); backdrop-filter: blur(2px);
}
.spin-overlay.show { display: flex; }
.spinner { width: 64px; height: 64px; border: 6px solid #ffffff22; border-top-color: var(--brand); border-radius: 50%; animation: spin 0.9s linear infinite; }
.spin-tip { margin-top: 16px; color: var(--muted); }
@keyframes spin { to { transform: rotate(360deg); } }

.app-footer {
  border-top: 1px solid var(--border);
  padding: 16px 0;
  color: var(--muted);
}

/* Modal styles */
.modal {
  position: fixed;
  inset: 0;
  z-index: 1000;
  display: none;
  align-items: center;
  justify-content: center;
}
.modal.show {
  display: flex;
}
.modal-overlay {
  position: absolute;
  inset: 0;
  background: rgba(0, 0, 0, 0.6);
  backdrop-filter: blur(4px);
}
.modal-content {
  position: relative;
  background: var(--panel);
  border: 1px solid var(--border);
  border-radius: 16px;
  width: min(500px, 90%);
  max-height: 90vh;
  overflow-y: auto;
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
  animation: modalSlideIn 0.3s ease;
}
@keyframes modalSlideIn {
  from {
    opacity: 0;
    transform: scale(0.95) translateY(-20px);
  }
  to {
    opacity: 1;
    transform: scale(1) translateY(0);
  }
}
.modal-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 20px 24px;
  border-bottom: 1px solid var(--border);
}
.modal-header h3 {
  margin: 0;
  font-size: 18px;
  color: var(--text);
}
.btn-close {
  background: transparent;
  border: none;
  color: var(--muted);
  cursor: pointer;
  padding: 4px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 6px;
  transition: all 0.2s ease;
}
.btn-close:hover {
  background: var(--panel-2);
  color: var(--text);
}
.modal-body {
  padding: 24px;
}
.form-group {
  margin-bottom: 20px;
}
.form-group:last-child {
  margin-bottom: 0;
}
.form-group label {
  display: block;
  margin-bottom: 8px;
  font-size: 14px;
  font-weight: 600;
  color: var(--text);
}
.modal-footer {
  display: flex;
  gap: 12px;
  margin-top: 24px;
  justify-content: flex-end;
}
.favorites-summary { 
  background: linear-gradient(135deg, rgba(79,140,255,0.15) 0%, rgba(138,169,255,0.10) 100%); 
  border: 1px solid var(--border); 
  border-radius: 10px; 
  padding: 16px 20px; 
  margin-bottom: 16px; 
  color: var(--text); 
  font-size: 14px; 
  line-height: 1.8; 
  min-height: 60px; 
  max-height: 200px; 
  overflow-y: auto; 
}
.favorites-summary:empty { display: none; }
.favorites-summary.loading { display: flex; align-items: center; justify-content: center; color: var(--muted); font-style: italic; }

.favorites-list {
  display: grid;
  gap: 12px;
  max-height: 400px;
  overflow-y: auto;
}
.favorite-item {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 12px;
  background: var(--panel-2);
  border: 1px solid var(--border);
  border-radius: 10px;
  cursor: pointer;
  transition: all 0.2s ease;
}
.favorite-item:hover {
  background: var(--panel);
  border-color: var(--brand);
}
.favorite-item img {
  width: 60px;
  height: 60px;
  border-radius: 8px;
  object-fit: cover;
}
.favorite-item-info {
  flex: 1;
}
.favorite-item-name {
  font-weight: 600;
  margin-bottom: 4px;
}
.favorite-item-shop {
  font-size: 13px;
  color: var(--muted);
}
.btn-remove-favorite {
  background: transparent;
  border: none;
  color: var(--muted);
  cursor: pointer;
  padding: 4px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 6px;
  transition: all 0.2s ease;
}
.btn-remove-favorite:hover {
  background: var(--panel);
  color: var(--danger);
}

/* 美食菜谱 */
.recipes-section {
  margin: 30px 0;
}
.recipes-section .section-title {
  margin: 0 0 16px;
  font-size: 18px;
  color: #4CAF50;
  font-weight: 700;
  text-shadow: 0 2px 4px rgba(76,175,80,0.2);
}
.recipes-container {
  background: linear-gradient(135deg, rgba(76,175,80,0.08) 0%, rgba(139,195,74,0.12) 100%);
  border: 1px solid rgba(76,175,80,0.3);
  border-radius: 16px;
  padding: 24px;
  box-shadow: 0 4px 12px rgba(76,175,80,0.1);
}

/* 菜谱Tab切换 */
.recipes-tabs {
  display: flex;
  gap: 12px;
  border-bottom: 2px solid rgba(76,175,80,0.2);
  padding-bottom: 12px;
  margin-bottom: 20px;
}
.recipe-tab {
  flex: 1;
  padding: 12px 24px;
  background: transparent;
  border: 1px solid rgba(76,175,80,0.3);
  border-radius: 8px;
  color: rgba(76,175,80,0.8);
  font-size: 15px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s ease;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
}
.recipe-tab:hover {
  background: rgba(76,175,80,0.1);
  border-color: rgba(76,175,80,0.5);
  transform: translateY(-2px);
}
.recipe-tab.active {
  background: linear-gradient(135deg, rgba(76,175,80,0.2), rgba(139,195,74,0.25));
  border-color: #4CAF50;
  color: #4CAF50;
  box-shadow: 0 4px 12px rgba(76,175,80,0.3);
}

/* 菜谱内容区 */
.recipes-content {
  position: relative;
  min-height: 400px;
}
.recipe-panel {
  display: none;
  animation: fadeIn 0.3s ease-in-out;
}
.recipe-panel.active {
  display: block;
}

/* 搜索框 */
.recipe-search-wrapper {
  display: flex;
  gap: 12px;
  margin-bottom: 20px;
}
.recipe-search-input {
  flex: 1;
  background: rgba(0,0,0,0.2);
  border: 1px solid rgba(76,175,80,0.3);
  color: var(--text);
  padding: 12px 16px;
  border-radius: 12px;
  font-size: 14px;
  transition: all 0.3s ease;
}
.recipe-search-input:focus {
  outline: none;
  border-color: #4CAF50;
  box-shadow: 0 0 0 3px rgba(76,175,80,0.1);
  background: rgba(0,0,0,0.25);
}
.recipe-search-input::placeholder {
  color: rgba(255,255,255,0.4);
}
.btn-recipe-search {
  background: linear-gradient(135deg, #4CAF50, #45a049);
  border: none;
  border-radius: 12px;
  padding: 12px 24px;
  cursor: pointer;
  color: white;
  font-weight: 600;
  transition: all 0.2s ease;
  box-shadow: 0 2px 8px rgba(76,175,80,0.3);
  display: flex;
  align-items: center;
  gap: 8px;
  white-space: nowrap;
}
.btn-recipe-search:hover {
  background: linear-gradient(135deg, #45a049, #388e3c);
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(76,175,80,0.4);
}

/* 精选推荐头部 */
.recipe-featured-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 20px;
  padding: 16px;
  background: rgba(0,0,0,0.15);
  border-radius: 12px;
  border: 1px solid rgba(76,175,80,0.2);
}
.recipe-featured-desc {
  margin: 0;
  color: var(--muted);
  font-size: 14px;
}
.btn-load-featured {
  background: linear-gradient(135deg, #4CAF50, #45a049);
  border: none;
  border-radius: 10px;
  padding: 10px 20px;
  cursor: pointer;
  color: white;
  font-weight: 600;
  transition: all 0.2s ease;
  box-shadow: 0 2px 8px rgba(76,175,80,0.3);
  display: flex;
  align-items: center;
  gap: 8px;
  white-space: nowrap;
}
.btn-load-featured:hover {
  background: linear-gradient(135deg, #45a049, #388e3c);
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(76,175,80,0.4);
}

/* 健康分类按钮 */
.health-categories {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  margin-bottom: 20px;
  padding: 16px;
  background: rgba(0,0,0,0.15);
  border-radius: 12px;
  border: 1px solid rgba(76,175,80,0.2);
}
.health-category-btn {
  padding: 8px 16px;
  background: rgba(76,175,80,0.1);
  border: 1px solid rgba(76,175,80,0.3);
  border-radius: 20px;
  color: var(--text);
  font-size: 13px;
  cursor: pointer;
  transition: all 0.2s ease;
}
.health-category-btn:hover {
  background: rgba(76,175,80,0.2);
  border-color: #4CAF50;
  transform: translateY(-1px);
}
.health-category-btn.active {
  background: linear-gradient(135deg, #4CAF50, #45a049);
  border-color: #4CAF50;
  color: white;
  box-shadow: 0 2px 8px rgba(76,175,80,0.3);
}

/* 菜谱结果展示 */
.recipe-results {
  min-height: 400px;
}
.recipe-placeholder {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 60px 20px;
  color: var(--muted);
  text-align: center;
}
.recipe-placeholder svg {
  opacity: 0.3;
  margin-bottom: 20px;
}
.recipe-placeholder p {
  margin: 8px 0;
  font-size: 14px;
}
.recipe-hint {
  color: rgba(76,175,80,0.6) !important;
  font-size: 13px !important;
}
.recipe-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
  gap: 20px;
}
.recipe-card {
  background: rgba(0,0,0,0.2);
  border: 1px solid rgba(76,175,80,0.2);
  border-radius: 12px;
  overflow: hidden;
  transition: all 0.3s ease;
  cursor: pointer;
}
.recipe-card:hover {
  transform: translateY(-4px);
  box-shadow: 0 8px 20px rgba(76,175,80,0.2);
  border-color: #4CAF50;
}
.recipe-card-image {
  width: 100%;
  height: 180px;
  object-fit: cover;
  background: rgba(0,0,0,0.3);
}
.recipe-card-content {
  padding: 16px;
}
.recipe-card-title {
  font-weight: 700;
  font-size: 15px;
  margin-bottom: 8px;
  overflow: hidden;
  text-overflow: ellipsis;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  line-height: 1.4;
}
.recipe-card-author {
  color: var(--muted);
  font-size: 13px;
  display: flex;
  align-items: center;
  gap: 4px;
}
.recipe-pagination {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 16px;
  margin-top: 24px;
  padding-top: 20px;
  border-top: 1px solid rgba(76,175,80,0.2);
}
.recipe-loading {
  text-align: center;
  padding: 40px;
  color: var(--muted);
}
.recipe-loading svg {
  animation: spin 1s linear infinite;
}
.recipe-error {
  text-align: center;
  padding: 40px;
  color: var(--danger);
  background: rgba(220,53,69,0.1);
  border-radius: 12px;
  border: 1px solid rgba(220,53,69,0.3);
}

@media (max-width: 768px) {
  .recipes-tabs {
    flex-direction: column;
    gap: 8px;
  }
  .recipe-tab {
    padding: 10px 20px;
    font-size: 14px;
  }
  .health-categories {
    gap: 8px;
  }
  .health-category-btn {
    font-size: 12px;
    padding: 6px 12px;
  }
}

/* ===============================================
   笔记详情弹窗样式
=============================================== */
.note-detail-modal-content {
  max-width: 800px;
  max-height: 90vh;
  width: 90%;
}

.note-detail-body {
  max-height: calc(90vh - 100px);
  overflow-y: auto;
  padding: 24px;
}

.note-detail-content {
  width: 100%;
}

/* 加载/错误状态 */
.note-detail-loading,
.note-detail-error {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  min-height: 300px;
  gap: 16px;
  color: #666;
}

.note-detail-loading svg {
  animation: spin 1s linear infinite;
  color: #4CAF50;
}

.note-detail-error h3 {
  color: #ff9800;
  margin-bottom: 12px;
}

.note-detail-error .btn {
  margin-top: 20px;
  background: #4CAF50;
  color: white;
  border: none;
  padding: 10px 24px;
  border-radius: 8px;
  cursor: pointer;
  transition: background 0.3s;
}

.note-detail-error .btn:hover {
  background: #45a049;
}

/* ===== 大众点评风格笔记详情 ===== */

/* 作者信息头部 */
.note-author-header {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 0 0 20px 0;
  margin-bottom: 20px;
  border-bottom: 1px solid #f0f0f0;
}

.author-avatar {
  width: 48px;
  height: 48px;
  border-radius: 50%;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}

.author-avatar svg {
  width: 28px;
  height: 28px;
  stroke: white;
  stroke-width: 2.5;
}

.author-info {
  flex: 1;
  min-width: 0;
}

.author-name {
  font-size: 16px;
  font-weight: 600;
  color: #333;
  margin-bottom: 4px;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.author-meta {
  display: flex;
  align-items: center;
  gap: 12px;
  font-size: 13px;
  color: #999;
}

.note-platform,
.note-time {
  display: inline-flex;
  align-items: center;
  gap: 4px;
}

/* 图片展示区域（大众点评横向滑动风格） */
.note-images-showcase {
  margin: 0 -20px 24px -20px;
  padding: 0;
  overflow-x: auto;
  display: flex;
  gap: 12px;
  scroll-snap-type: x mandatory;
  -webkit-overflow-scrolling: touch;
  scrollbar-width: none;
}

.note-images-showcase::-webkit-scrollbar {
  display: none;
}

.note-image-item {
  flex-shrink: 0;
  width: calc(100% - 40px);
  max-width: 600px;
  scroll-snap-align: center;
  cursor: pointer;
  margin-left: 20px;
}

.note-image-item:last-child {
  margin-right: 20px;
}

.note-image-item img {
  width: 100%;
  height: auto;
  max-height: 450px;
  object-fit: cover;
  border-radius: 12px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
  transition: transform 0.3s, box-shadow 0.3s;
}

.note-image-item img:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
}

/* 正文内容区域 */
.note-content-body {
  line-height: 1.8;
  color: var(--text); /* 使用主题文字颜色，在暗色背景下更清晰 */
  font-size: 15px;
}

/* 店铺名称 */
.note-shop-name {
  font-size: 17px;
  font-weight: 600;
  color: #222;
  margin: 20px 0 8px 0;
  padding-left: 12px;
  border-left: 3px solid #ff6b35;
}

/* 地址 */
.note-location {
  font-size: 14px;
  color: #666;
  margin: 6px 0;
  padding: 8px 12px;
  background: #f8f8f8;
  border-radius: 6px;
  display: inline-block;
}

/* 价格 */
.note-price {
  font-size: 14px;
  color: #ff6b35;
  margin: 6px 0;
  font-weight: 500;
}

/* 标签 */
.note-tags {
  font-size: 13px;
  color: #999;
  margin: 16px 0 8px 0;
  line-height: 1.6;
}

/* 分隔线 */
.note-divider {
  height: 1px;
  background: linear-gradient(to right, transparent, #e0e0e0, transparent);
  margin: 20px 0;
}

/* 普通段落 */
.note-paragraph {
  margin: 12px 0;
  color: var(--text); /* 使用主题文字颜色，在暗色背景下更清晰 */
  line-height: 1.8;
  text-align: justify;
}

.note-paragraph:first-of-type {
  margin-top: 0;
}

.note-paragraph:last-of-type {
  margin-bottom: 0;
}

/* 旧样式兼容（保留） */
.note-detail-meta {
  display: flex;
  align-items: center;
  gap: 16px;
  padding-bottom: 16px;
  margin-bottom: 24px;
  border-bottom: 2px solid #e0e0e0;
  flex-wrap: wrap;
}

.note-source,
.note-time {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  padding: 6px 12px;
  background: #f5f5f5;
  border-radius: 6px;
  font-size: 14px;
  color: #555;
}

.note-detail-text {
  line-height: 1.8;
  color: #333;
  margin-bottom: 24px;
}

.note-detail-text p {
  margin-bottom: 16px;
  text-indent: 2em;
}

.note-detail-text p:last-child {
  margin-bottom: 0;
}

.note-detail-images {
  margin-top: 32px;
  padding-top: 24px;
  border-top: 2px solid #e0e0e0;
}

.note-detail-images h4 {
  margin: 0 0 16px 0;
  font-size: 18px;
  color: #333;
  font-weight: 600;
}

.note-images-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
  gap: 16px;
}

.note-images-grid img {
  width: 100%;
  height: 200px;
  object-fit: cover;
  border-radius: 8px;
  cursor: pointer;
  transition: transform 0.2s, box-shadow 0.2s;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.note-images-grid img:hover {
  transform: scale(1.05);
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.15);
}

/* 空状态 */
.note-detail-empty {
  text-align: center;
  padding: 60px 20px;
  color: #999;
}

.note-detail-empty .text-muted {
  font-size: 14px;
  margin-top: 8px;
  color: #bbb;
}

/* 跳转提示状态 */
.note-detail-jump {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 60px 20px;
  text-align: center;
}

.note-detail-jump .jump-icon {
  font-size: 64px;
  margin-bottom: 20px;
}

.note-detail-jump h3 {
  color: #333;
  margin-bottom: 12px;
  font-size: 18px;
}

.note-detail-jump .jump-hint {
  color: #666;
  font-size: 14px;
  margin-bottom: 24px;
}

.note-detail-jump .jump-actions {
  display: flex;
  gap: 12px;
}

.note-detail-jump .btn-primary {
  background: #4CAF50;
  color: white;
  padding: 10px 24px;
  border-radius: 8px;
  text-decoration: none;
  transition: background 0.3s;
}

.note-detail-jump .btn-primary:hover {
  background: #45a049;
}

/* 响应式调整 */
@media (max-width: 768px) {
  .note-detail-modal-content {
    width: 95%;
    max-height: 95vh;
  }
  
  .note-detail-body {
    max-height: calc(95vh - 80px);
    padding: 16px;
  }
  
  /* 大众点评风格响应式 */
  .note-author-header {
    padding-bottom: 16px;
    margin-bottom: 16px;
  }
  
  .author-avatar {
    width: 40px;
    height: 40px;
  }
  
  .author-avatar svg {
    width: 24px;
    height: 24px;
  }
  
  .author-name {
    font-size: 15px;
  }
  
  .author-meta {
    font-size: 12px;
    gap: 8px;
  }
  
  .note-images-showcase {
    margin: 0 -16px 20px -16px;
  }
  
  .note-image-item {
    width: calc(100% - 32px);
    margin-left: 16px;
  }
  
  .note-image-item:last-child {
    margin-right: 16px;
  }
  
  .note-image-item img {
    max-height: 350px;
  }
  
  .note-shop-name {
    font-size: 16px;
    margin: 16px 0 6px 0;
    padding-left: 10px;
  }
  
  .note-content-body {
    font-size: 14px;
  }
  
  /* 旧样式兼容 */
  .note-images-grid {
    grid-template-columns: 1fr;
  }
  
  .note-images-grid img {
    height: auto;
    max-height: 300px;
  }
}

/* ===============================================
   菜谱详情弹窗样式
=============================================== */
.recipe-detail-modal-content {
  max-width: 900px;
  max-height: 90vh;
  width: 90%;
}

.recipe-detail-body {
  max-height: calc(90vh - 100px);
  overflow-y: auto;
  padding: 0;
}

.recipe-detail-content {
  width: 100%;
}

/* 加载状态 */
.recipe-detail-loading {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  min-height: 300px;
  gap: 16px;
  color: #666;
}

.recipe-detail-loading svg {
  animation: spin 1s linear infinite;
  color: #4CAF50;
}

/* 错误状态 */
.recipe-detail-error {
  text-align: center;
  padding: 40px 20px;
  color: #666;
}

.recipe-detail-error h3 {
  color: #ff9800;
  margin-bottom: 12px;
}

.recipe-detail-error .btn {
  margin-top: 20px;
  background: #4CAF50;
  color: white;
  border: none;
  padding: 10px 24px;
  border-radius: 8px;
  cursor: pointer;
  transition: background 0.3s;
}

.recipe-detail-error .btn:hover {
  background: #45a049;
}

/* 主图 */
.recipe-detail-hero {
  width: 100%;
  max-height: 400px;
  overflow: hidden;
  border-radius: 12px 12px 0 0;
  background: #f5f5f5;
}

.recipe-detail-hero img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
}

/* 作者信息 */
.recipe-detail-author {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 16px 24px;
  background: #f8f9fa;
  border-bottom: 1px solid #e9ecef;
  color: #666;
  font-size: 14px;
}

.recipe-detail-author svg {
  flex-shrink: 0;
}

/* 描述 */
.recipe-detail-desc {
  padding: 24px;
  line-height: 1.8;
  color: #555;
  background: white;
  border-bottom: 1px solid #e9ecef;
}

/* 各个section */
.recipe-detail-section {
  padding: 24px;
  border-bottom: 1px solid #e9ecef;
  background: white;
}

.recipe-detail-section h4 {
  margin: 0 0 20px 0;
  font-size: 20px;
  color: #333;
  font-weight: 600;
}

/* 食材列表 */
.recipe-ingredients {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
  gap: 12px;
}

.ingredient-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 12px 16px;
  background: #f8f9fa;
  border-radius: 8px;
  border-left: 3px solid #4CAF50;
  transition: transform 0.2s;
}

.ingredient-item:hover {
  transform: translateX(4px);
  background: #e8f5e9;
}

.ingredient-name {
  font-weight: 500;
  color: #333;
}

.ingredient-amount {
  color: #666;
  font-size: 14px;
}

/* 制作步骤 */
.recipe-steps {
  display: flex;
  flex-direction: column;
  gap: 24px;
}

.recipe-step {
  display: flex;
  gap: 16px;
  padding: 20px;
  background: #f8f9fa;
  border-radius: 12px;
  transition: transform 0.2s, box-shadow 0.2s;
}

.recipe-step:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

.step-number {
  flex-shrink: 0;
  width: 36px;
  height: 36px;
  background: linear-gradient(135deg, #4CAF50, #45a049);
  color: white;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  font-size: 16px;
}

.step-content {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.step-text {
  margin: 0;
  line-height: 1.8;
  color: #444;
}

.step-image {
  width: 100%;
  max-width: 200px;
  border-radius: 8px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  cursor: pointer;
  transition: transform 0.2s;
}

.step-image:hover {
  transform: scale(1.05);
}

/* 小贴士 */
.recipe-tips {
  padding: 16px 20px;
  background: #fff8e1;
  border-left: 4px solid #ffc107;
  border-radius: 8px;
  line-height: 1.8;
  color: #666;
}

/* 空状态 */
.recipe-detail-empty {
  text-align: center;
  padding: 60px 20px;
  color: #999;
}

.recipe-detail-empty .text-muted {
  font-size: 14px;
  margin-top: 8px;
}

/* 响应式调整 */
@media (max-width: 768px) {
  .recipe-detail-modal-content {
    width: 95%;
    max-height: 95vh;
  }
  
  .recipe-detail-body {
    max-height: calc(95vh - 80px);
  }
  
  .recipe-detail-section {
    padding: 16px;
  }
  
  .recipe-ingredients {
    grid-template-columns: 1fr;
  }
  
  .recipe-step {
    flex-direction: column;
    padding: 16px;
  }
  
  .step-number {
    width: 32px;
    height: 32px;
    font-size: 14px;
  }
  
  .step-image {
    max-width: 100%;
  }
}

@media (max-width: 980px) {
  .controls .control-grid { grid-template-columns: repeat(2, minmax(0, 1fr)); }
  .cards { grid-template-columns: repeat(2, minmax(0, 1fr)); }
}
@media (max-width: 640px) {
  .controls .control-grid { grid-template-columns: 1fr; }
  .cards { grid-template-columns: 1fr; }
}



/* ===============================================
   启动加载页样式
=============================================== */
.splash-screen {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 10000;
  transition: opacity 0.8s ease, visibility 0.8s ease;
}

.splash-screen.hidden {
  opacity: 0;
  visibility: hidden;
  pointer-events: none;
}

.splash-content {
  text-align: center;
  color: white;
  animation: fadeInUp 0.6s ease;
}

@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(30px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.splash-logo {
  margin-bottom: 60px;
}

.logo-icon {
  font-size: 80px;
  margin-bottom: 20px;
  animation: bounce 2s infinite;
}

@keyframes bounce {
  0%, 100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-20px);
  }
}

.logo-text {
  font-size: 48px;
  font-weight: 800;
  margin: 0 0 12px 0;
  text-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
}

.logo-subtitle {
  font-size: 18px;
  opacity: 0.9;
  margin: 0;
}

.splash-status {
  margin-bottom: 40px;
}

.status-icon {
  margin-bottom: 20px;
}

.spinner {
  animation: spin 1s linear infinite;
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

.status-text {
  font-size: 20px;
  font-weight: 600;
  margin: 0 0 8px 0;
}

.status-detail {
  font-size: 14px;
  opacity: 0.8;
  margin: 0 0 24px 0;
}

.splash-auth-button {
  display: inline-flex;
  align-items: center;
  gap: 10px;
  padding: 14px 32px;
  font-size: 16px;
  font-weight: 600;
  color: #667eea;
  background: white;
  border: none;
  border-radius: 999px;
  cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"><defs><filter id="shadow2"><feDropShadow dx="0" dy="0" stdDeviation="1.5" flood-color="%23000000" flood-opacity="0.8"/></filter></defs><g filter="url(%23shadow2)"><path d="M15 4V2" stroke="%23ffd700" stroke-width="3" stroke-linecap="round"/><path d="M15 16v-2" stroke="%23ffd700" stroke-width="3" stroke-linecap="round"/><path d="M8 9h2" stroke="%23ffd700" stroke-width="3" stroke-linecap="round"/><path d="M20 9h2" stroke="%23ffd700" stroke-width="3" stroke-linecap="round"/><path d="M17.8 11.8 19 13" stroke="%23ffd700" stroke-width="3" stroke-linecap="round"/><path d="M17.8 6.2 19 5" stroke="%23ffd700" stroke-width="3" stroke-linecap="round"/><path d="M12.2 6.2 11 5" stroke="%23ffd700" stroke-width="3" stroke-linecap="round"/><path d="m3 21 9-9" stroke="%23ffd700" stroke-width="3.5" stroke-linecap="round"/><circle cx="15" cy="9" r="3" fill="%23ffd700" stroke="%23ffffff" stroke-width="0.8"/><path d="m13 7 2 2" stroke="%23fff" stroke-width="1.5"/></g></svg>') 4 4, pointer !important;
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);
  transition: all 0.3s ease;
  margin-top: 16px;
  animation: pulse 2s ease-in-out infinite;
}

.splash-auth-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 12px 32px rgba(0, 0, 0, 0.25);
  background: #f8f9ff;
}

.splash-auth-button:active {
  transform: translateY(0);
}

.splash-auth-button svg {
  flex-shrink: 0;
}

@keyframes pulse {
  0%, 100% {
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);
  }
  50% {
    box-shadow: 0 8px 32px rgba(255, 255, 255, 0.3);
  }
}

.splash-progress {
  max-width: 300px;
  margin: 0 auto;
}

.progress-bar {
  width: 100%;
  height: 4px;
  background: rgba(255, 255, 255, 0.3);
  border-radius: 2px;
  overflow: hidden;
}

.progress-fill {
  height: 100%;
  background: white;
  border-radius: 2px;
  width: 0%;
  transition: width 0.5s ease;
}
